<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MK Pr√©-Moldados</title>

    <!-- Fonte -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --azul: #002d5a;
        --amarelo: #f5b400;
        --cinza: #f7f7f7;
        --ciano: #00ccff;
        --wa: #25d366;
        --texto: #2b2b2b;
      }

      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        color: var(--texto);
        background: #fff;
      }
      section {
        padding: 60px 20px;
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
      }

      .hero {
        position: relative;
        height: 620px;
        background: url("img/Faixada.png") center/cover no-repeat;
        border-bottom: 4px solid var(--ciano);
      }
      .social-launchers {
        position: absolute;
        left: 16px;
        bottom: 16px;
        z-index: 5;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .card-glass {
        display: grid;
        align-items: center;
        gap: 8px;
        background: rgba(0, 0, 0, 0.55);
        color: #fff;
        backdrop-filter: blur(6px);
        border-radius: 12px;
        padding: 10px 12px;
      }
      .insta {
        grid-template-columns: auto 1fr auto;
      }
      #ig-select {
        background: #111;
        color: #fff;
        border: 1px solid #00ccff66;
        border-radius: 8px;
        padding: 8px 10px;
        min-width: 200px;
      }
      #ig-go {
        background: var(--ciano);
        border: 0;
        border-radius: 8px;
        padding: 8px 14px;
        font-weight: 800;
        cursor: pointer;
      }
      .wa-link {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 8px;
        text-decoration: none;
        color: #fff;
      }

      .about {
        background: var(--cinza);
        text-align: center;
      }
      .about h2 {
        color: var(--azul);
        margin: 0 0 12px;
      }
      .about p {
        max-width: 820px;
        margin: 0 auto;
        opacity: 0.9;
      }

      .locations {
        background: #fff;
      }
      .locations h2 {
        text-align: center;
        color: var(--azul);
        margin: 0 0 30px;
      }
      .locations-grid {
        display: grid;
        gap: 30px;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      }
      .location-card {
        background: #f9f9f9;
        border: 2px solid var(--ciano);
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
      }
      .location-card h3 {
        color: var(--amarelo);
        margin: 0 0 8px;
      }
      .btn-map {
        display: inline-block;
        margin: 10px 0 14px;
        padding: 8px 16px;
        background: var(--ciano);
        color: #fff;
        font-weight: 700;
        border-radius: 8px;
        text-decoration: none;
      }
      .btn-map:hover {
        filter: brightness(0.95);
      }

      .products h2 {
        text-align: center;
        color: var(--azul);
        margin: 0 0 10px;
      }
      .products .sub {
        text-align: center;
        margin: 0 0 26px;
        opacity: 0.85;
      }

      .chips {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 18px;
      }
      .chip {
        background: #fff;
        border: 2px solid var(--amarelo);
        color: var(--azul);
        padding: 10px 14px;
        border-radius: 999px;
        font-weight: 700;
        cursor: pointer;
        transition: transform 0.1s ease, box-shadow 0.2s ease,
          background 0.2s ease;
      }
      .chip:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
      }
      .chip.active {
        background: var(--amarelo);
        color: #111;
      }

      .chips.subchips {
        display: flex;
        gap: 8px;
        justify-content: center;
        margin: 0 0 18px;
      }
      .chips.subchips .chip {
        padding: 6px 12px;
        font-weight: 700;
      }

      /* ===============================
         GRID PADR√ÉO (3 cards por linha)
      ================================ */
      .product-grid {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(3, 1fr);
      }
      .product-card {
        background: #fff;
        border: 2px solid var(--amarelo);
        border-radius: 14px;
        padding: 10px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.2s ease;
      }
      .product-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 26px rgba(0, 0, 0, 0.12);
      }
      .product-card img {
        width: 100%;
        height: 320px;
        object-fit: cover;
        object-position: center;
        border-radius: 10px;
        background: #eaeaea;
      }
      .product-card .legend {
        padding: 10px 6px 6px;
        font-weight: 700;
        color: var(--azul);
        text-align: center;
        font-size: 0.95rem;
      }

      /* ===============================
         ENERGIA ‚Äî SUBGRUPOS EM COLUNA
         (com grid 3 por linha)
      ================================ */
      .energy-groups {
        display: grid;
        gap: 42px;
        margin-top: 30px;
      }
      .energy-group h3 {
        color: var(--azul);
        font-size: 1.3rem;
        border-left: 6px solid var(--amarelo);
        padding-left: 12px;
        margin: 0 0 16px;
      }
      .energy-grid {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(3, 1fr);
      }
      .energy-card {
        background: #fff;
        border: 2px solid var(--amarelo);
        border-radius: 14px;
        padding: 10px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.2s ease;
      }
      .energy-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 26px rgba(0, 0, 0, 0.12);
      }
      .energy-card img {
        width: 100%;
        height: 260px;
        object-fit: cover;
        border-radius: 10px;
        background: #eaeaea;
      }
      .energy-card .legend {
        text-align: center;
        font-weight: 700;
        color: var(--azul);
        margin-top: 10px;
      }

      /* ===============================
         MODAL
      ================================ */
      .modal {
        position: fixed;
        inset: 0;
        display: none;
        background: rgba(0, 0, 0, 0.55);
        z-index: 50;
        padding: 24px;
      }
      .modal.open {
        display: grid;
        place-items: center;
      }
      .modal-card {
        width: min(920px, 96vw);
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 24px 60px rgba(0, 0, 0, 0.25);
        overflow: hidden;
        display: grid;
        grid-template-columns: 1.1fr 1fr;
        position: relative;
      }
      .modal-media {
        background: #f2f6fb;
        display: grid;
        place-items: center;
        padding: 16px;
      }
      .modal-media img {
        max-width: 100%;
        height: auto;
        border-radius: 12px;
      }
      .modal-body {
        padding: 22px 22px 16px;
      }
      .modal-body h3 {
        margin: 0 0 6px;
        color: #002d5a;
      }
      .badge {
        display: inline-block;
        background: #e7f8ff;
        color: #004f6a;
        border: 1px solid #00ccff55;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.8rem;
        font-weight: 600;
      }
      .modal-desc {
        margin: 10px 0 12px;
        color: #334;
      }
      .options {
        display: grid;
        gap: 10px;
        margin: 12px 0 6px;
      }
      .opt-group {
        background: #f7f7f7;
        border: 1px solid #e4e6eb;
        border-radius: 10px;
        padding: 10px 12px;
      }
      .opt-group legend {
        font-weight: 700;
        color: #002d5a;
        margin-bottom: 6px;
      }
      .opt-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .opt-row label {
        display: flex;
        align-items: center;
        gap: 6px;
        background: #fff;
        border: 1px solid #dfe3ea;
        border-radius: 8px;
        padding: 6px 10px;
        cursor: pointer;
      }
      .specs {
        margin: 10px 0 16px;
        font-size: 0.95rem;
        color: #233;
      }
      .specs li {
        margin: 4px 0;
      }
      .modal-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: flex-end;
        margin-top: 8px;
      }
      .btn {
        border: none;
        border-radius: 10px;
        padding: 10px 14px;
        font-weight: 800;
        cursor: pointer;
      }
      .btn-outline {
        background: #fff;
        color: #002d5a;
        border: 2px solid #002d5a;
      }
      .btn-wa {
        background: #25d366;
        color: #072;
      }
      .btn-wa:hover {
        filter: brightness(1.03);
      }
      .btn-outline:hover {
        background: #002d5a;
        color: #fff;
      }
      .modal-close {
        position: absolute;
        top: 14px;
        right: 18px;
        background: #002d5a;
        color: #fff;
        border: none;
        width: 38px;
        height: 38px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 20px;
      }

      .difs {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }
      .dif {
        background: var(--amarelo);
        color: #111;
        border-radius: 12px;
        padding: 18px;
        font-weight: 700;
        text-align: center;
      }

      .reviews {
        background: #2f3136;
        color: #e9edf3;
        padding: 70px 20px;
        border: none;
      }
      .reviews h2 {
        text-align: center;
        color: #fff;
        margin: 0 0 22px;
      }
      .review-grid {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }
      .review {
        background: #1f2124;
        border: 1px solid #444;
        border-radius: 12px;
        padding: 18px;
        color: #e9edf3;
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.35);
      }
      .stars {
        color: #f5b400;
        letter-spacing: 1px;
        margin-bottom: 8px;
      }
      .rate-wrap {
        margin: 24px auto 0;
        max-width: 720px;
        background: #1f2124;
        border: 2px solid #f5b400;
        border-radius: 12px;
        padding: 16px;
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.35);
      }
      .rate-row label {
        font-weight: 700;
        color: #fff;
      }
      .rate-wrap input[type="text"],
      .rate-wrap textarea {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid #444;
        border-radius: 8px;
        background: #2a2d33;
        color: #e9edf3;
      }
      .rate-wrap input::placeholder,
      .rate-wrap textarea::placeholder {
        color: #999;
      }
      .rate-stars {
        display: flex;
        flex-direction: row-reverse;
        gap: 6px;
      }
      .rate-stars input {
        display: none;
      }
      .rate-stars label {
        cursor: pointer;
        font-size: 26px;
        line-height: 1;
        color: #777;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.35);
        transition: color 0.15s, transform 0.15s;
      }
      .rate-stars label:hover,
      .rate-stars label:hover ~ label {
        color: #f5b400;
        transform: scale(1.1);
      }
      .rate-stars input:checked ~ label {
        color: #f5b400;
      }
      .btn-ghost {
        background: transparent;
        color: #e9edf3;
        border: 2px solid #e9edf3;
      }
      .btn-ghost:hover {
        background: #e9edf3;
        color: #1f2124;
      }
      .btn-primary {
        background: var(--azul);
        color: #fff;
      }
      .btn-primary:hover {
        filter: brightness(1.05);
      }
      .rate-msg.ok {
        color: #4ade80;
      }
      .rate-msg.err {
        color: #f87171;
      }

      .contact h2 {
        text-align: center;
        color: var(--azul);
        margin: 0 0 22px;
      }
      .contact-wrap {
        display: grid;
        gap: 26px;
        grid-template-columns: 1.05fr 1fr;
        align-items: start;
      }
      .contact-card {
        background: #fff;
        border: 2px solid var(--amarelo);
        border-radius: 14px;
        padding: 18px 20px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .contact-card .row {
        display: grid;
        grid-template-columns: 22px 1fr;
        gap: 10px;
        align-items: center;
        margin: 10px 0;
        color: var(--azul);
      }
      .contact-card a {
        color: var(--azul);
        font-weight: 700;
        text-decoration: none;
      }
      .contact-card a:hover {
        text-decoration: underline;
      }
      .form {
        background: #fff;
        border: 2px solid var(--ciano);
        border-radius: 14px;
        padding: 18px 20px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .form .field {
        margin-bottom: 12px;
      }
      .form label {
        display: block;
        font-weight: 700;
        color: var(--azul);
        margin: 0 0 6px;
      }
      .form .input,
      .form textarea {
        width: 100%;
        padding: 12px 14px 12px 44px;
        border: 1px solid #d7d7d7;
        border-radius: 10px;
        background: #fafafa;
        font: inherit;
        transition: box-shadow 0.15s, border-color 0.15s, background 0.15s;
      }
      .form .input:focus,
      .form textarea:focus {
        outline: none;
        border-color: var(--ciano);
        box-shadow: 0 0 0 3px #00ccff33;
        background: #fff;
      }
      .form .control {
        position: relative;
      }
      .form .control .ico {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 18px;
        opacity: 0.55;
      }
      .form .actions {
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: flex-start;
        margin-top: 6px;
      }
      .button {
        border: 0;
        border-radius: 10px;
        padding: 11px 16px;
        font-weight: 800;
        cursor: pointer;
      }
      .btn-wa {
        background: #25d366;
        color: #062;
      }
      .btn-wa:hover {
        filter: brightness(1.05);
      }
      .form .status {
        margin-top: 8px;
        font-size: 0.95rem;
      }
      .form .status.ok {
        color: #0a7f2e;
      }
      .form .status.err {
        color: #b00020;
      }
      .faq {
        margin-top: 14px;
        border-top: 1px dashed #e4e6ea;
        padding-top: 8px;
      }
      .faq details {
        background: #f8fafc;
        border: 1px solid #e4e6ea;
        border-radius: 10px;
        padding: 8px 12px;
        margin: 8px 0;
      }
      .faq summary {
        cursor: pointer;
        font-weight: 700;
        color: var(--azul);
      }

      footer {
        background: var(--azul);
        color: #fff;
        text-align: center;
        padding: 22px;
        font-size: 0.95rem;
        border-top: 4px solid var(--ciano);
      }
      footer a {
        color: var(--amarelo);
        font-weight: 800;
        text-decoration: none;
      }

      @media (max-width: 900px) {
        .contact-wrap {
          grid-template-columns: 1fr;
        }
        .modal-card {
          grid-template-columns: 1fr;
        }
        .product-grid,
        .energy-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (max-width: 600px) {
        .social-launchers {
          left: 12px;
          right: 12px;
          bottom: 12px;
        }
        #ig-select {
          min-width: 0;
          width: 100%;
        }
        .product-grid,
        .energy-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <body>
    <section class="hero">
      <div class="social-launchers"></div>
    </section>

    <section class="about">
      <div class="container">
        <h2>Sobre a MK</h2>
        <p>
          H√° mais de 10 anos entregando solu√ß√µes em pr√©-moldados de concreto,
          padr√µes de energia e estruturas para sua obra. Qualidade, seguran√ßa e
          inova√ß√£o com atendimento pr√≥ximo e personalizado.
        </p>
      </div>
    </section>

    <section class="locations">
      <div class="container">
        <h2>Nossas Unidades</h2>

        <div class="locations-grid">
          <div class="location-card">
            <h3>Rio Brilhante / MS</h3>
            <p>üìç R. Pref. Athayde Nogueira, 1407 ‚Äî Centro</p>
            <p>
              üìû
              <a
                href="https://wa.me/5567992212309"
                target="_blank"
                rel="noopener"
                >(67) 99221-2309</a
              >
            </p>
            <a
              class="btn-map"
              target="_blank"
              rel="noopener"
              href="https://www.google.com/maps/dir/?api=1&destination=MK+PR%C3%89-MOLDADOS,+R.+Pref.+Athayde+Nogueira,+1407,+Centro,+Rio+Brilhante+-+MS"
              >üìç Ver rota</a
            >
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3732.583763271837!2d-54.542668623907806!3d-21.798695580098065!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9488eee984fba8d1%3A0xae0721071256362!2sMK%20PR%C3%89-MOLDADOS!5e0!3m2!1spt-BR!2sbr!4v1704173519000!5m2!1spt-BR!2sbr"
              width="100%"
              height="250"
              style="border: 0"
              loading="lazy"
              allowfullscreen
            ></iframe>
          </div>

          <div class="location-card">
            <h3>Dourados / MS</h3>
            <p>üìç Rua Guanabara, 940 ‚Äî Jardim S√£o Francisco</p>
            <p>
              üìû
              <a
                href="https://wa.me/5567992212309"
                target="_blank"
                rel="noopener"
                >(67) 99221-2309</a
              >
            </p>
            <a
              class="btn-map"
              target="_blank"
              rel="noopener"
              href="https://www.google.com/maps/dir/?api=1&destination=R.+Guanabara,+940+-+Jardim+S%C3%A3o+Francisco,+Dourados+-+MS"
              >üìç Ver rota</a
            >
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3674.433017979575!2d-54.77375592394726!3d-22.222825979715306!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9489a83a2c97369d%3A0x1eb59e0716f94ec7!2sR.+Guanabara%2C+940+-+Jardim+Sao+Francisco%2C+Dourados+-+MS%2C+79833-210!5e0!3m2!1spt-BR!2sbr!4v1704173519000!5m2!1spt-BR!2sbr"
              width="100%"
              height="250"
              style="border: 0"
              loading="lazy"
              allowfullscreen
            ></iframe>
          </div>
        </div>
      </div>
    </section>

    <section class="products">
      <div class="container">
        <h2>Nossos Produtos</h2>
        <p class="sub">Clique em uma categoria para ver os produtos.</p>

        <div id="chips" class="chips"></div>

        <!-- Subgrupo (apenas para Churrasqueiras) -->
        <div id="subchips" class="chips subchips" style="display: none"></div>

        <!-- ENERGIA (subgrupos em coluna) -->
        <div
          id="energyGroups"
          class="energy-groups"
          style="display: none"
        ></div>

        <!-- GRID PADR√ÉO (3 cards por linha) -->
        <div id="productGrid" class="product-grid" style="display: none"></div>
      </div>
    </section>

    <section class="container">
      <div class="difs">
        <div class="dif">üöö Entrega R√°pida</div>
        <div class="dif">‚úÖ Qualidade Homologada</div>
        <div class="dif">ü§ù Atendimento Pr√≥ximo</div>
        <div class="dif">üîí Garantia de Confian√ßa</div>
      </div>
    </section>

    <section class="reviews">
      <div class="container">
        <h2>O que nossos clientes dizem</h2>

        <div id="reviewList" class="review-grid">
          <div class="review-box">
            <div class="review">
              <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              Atendimento impec√°vel e entrega no prazo. Recomendo muito!<br /><strong
                >‚Äî Ana P.</strong
              >
            </div>
          </div>
          <div class="review-box">
            <div class="review">
              <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              Padr√µes homologados, tudo certinho com a concession√°ria.<br /><strong
                >‚Äî Lucas R.</strong
              >
            </div>
          </div>
          <div class="review-box">
            <div class="review">
              <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              Qualidade dos pr√©-moldados surpreendeu, acabamento top.<br /><strong
                >‚Äî Carla M.</strong
              >
            </div>
          </div>
        </div>

        <div class="rate-wrap" aria-labelledby="rateTitle">
          <div class="rate-row" style="justify-content: space-between">
            <h3 id="rateTitle" style="margin: 0; color: var(--azul)">
              Avalie a MK
            </h3>
            <div class="rate-stars" role="radiogroup" aria-label="Nota">
              <input type="radio" id="star5" name="rating" value="5" /><label
                for="star5"
                title="5 estrelas"
                >‚òÖ</label
              >
              <input type="radio" id="star4" name="rating" value="4" /><label
                for="star4"
                title="4 estrelas"
                >‚òÖ</label
              >
              <input type="radio" id="star3" name="rating" value="3" /><label
                for="star3"
                title="3 estrelas"
                >‚òÖ</label
              >
              <input type="radio" id="star2" name="rating" value="2" /><label
                for="star2"
                title="2 estrelas"
                >‚òÖ</label
              >
              <input type="radio" id="star1" name="rating" value="1" /><label
                for="star1"
                title="1 estrela"
                >‚òÖ</label
              >
            </div>
          </div>

          <div class="rate-row" style="margin-top: 10px">
            <label for="revName">Seu nome</label>
            <input
              id="revName"
              type="text"
              placeholder="Ex.: Maria S."
              maxlength="50"
            />
          </div>

          <div class="rate-row" style="margin-top: 10px">
            <label for="revText">Seu depoimento</label>
            <textarea
              id="revText"
              rows="3"
              placeholder="Conte rapidamente como foi sua experi√™ncia..."
              maxlength="400"
            ></textarea>
          </div>

          <div class="rate-actions">
            <button id="revClear" class="btn-small btn-ghost" type="button">
              Limpar
            </button>
            <button id="revSend" class="btn-small btn-primary" type="button">
              Enviar avalia√ß√£o
            </button>
          </div>
          <div id="revMsg" class="rate-msg" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <section class="contact" id="contato">
      <div class="container">
        <h2>Fale com a MK</h2>

        <div class="contact-wrap">
          <div class="contact-card" aria-label="Informa√ß√µes de contato">
            <div class="row">
              <span>üìû</span><a href="tel:+5567992212309">(67) 99221-2309</a>
            </div>
            <div class="row">
              <span>üí¨</span
              ><a
                href="https://wa.me/5567992212309?text=Ol%C3%A1!%20Quero%20um%20or%C3%A7amento."
                target="_blank"
                rel="noopener"
                >WhatsApp</a
              >
            </div>
            <div class="row">
              <span>‚úâÔ∏è</span
              ><a href="mailto:contato@mkpremoldados.com.br"
                >contato@mkpremoldados.com.br</a
              >
            </div>
            <div class="row">
              <span>üïò</span>
              <div>Seg a Sex: 08h ‚Äî 17h30</div>
            </div>

            <div class="faq" aria-label="Perguntas frequentes">
              <details>
                <summary>Fazem entrega em outras cidades?</summary>
                <div>
                  Sim, consulte o frete informando CEP e quantidade no pedido.
                </div>
              </details>
              <details>
                <summary>Emitimos nota e ART?</summary>
                <div>
                  Nota fiscal sempre; ART conforme o produto/servi√ßo contratado.
                </div>
              </details>
            </div>
          </div>

          <form class="form" id="mkForm" novalidate>
            <div class="field control">
              <label for="fNome">Nome</label>
              <span class="ico">üë§</span>
              <input
                id="fNome"
                class="input"
                name="nome"
                autocomplete="name"
                required
              />
            </div>

            <div class="field control">
              <label for="fTel">Telefone</label>
              <span class="ico">üì±</span>
              <input
                id="fTel"
                class="input"
                name="telefone"
                inputmode="tel"
                placeholder="(67) 99999-9999"
                required
              />
            </div>

            <div class="field control">
              <label for="fMsg">Mensagem</label>
              <span class="ico">‚úçÔ∏è</span>
              <textarea
                id="fMsg"
                class="input"
                name="mensagem"
                rows="4"
                required
              ></textarea>
            </div>

            <div class="actions">
              <button type="submit" class="button btn-primary">Enviar</button>
              <a
                id="btnWaDirect"
                class="button btn-wa"
                href="#"
                target="_blank"
                rel="noopener"
                >Chamar no WhatsApp</a
              >
            </div>

            <div id="formStatus" class="status" aria-live="polite"></div>

            <input
              type="text"
              name="website"
              style="position: absolute; left: -9999px; opacity: 0"
              tabindex="-1"
              autocomplete="off"
            />
          </form>
        </div>
      </div>
    </section>

    <div id="productModal" class="modal" aria-hidden="true">
      <div class="modal-card">
        <button class="modal-close" id="pmClose" aria-label="Fechar">√ó</button>

        <div class="modal-media">
          <img id="pmImg" src="" alt="" />
        </div>

        <div class="modal-body">
          <span class="badge" id="pmCategoria">Categoria</span>
          <h3 id="pmTitulo">T√≠tulo do Produto</h3>
          <p class="modal-desc" id="pmDesc">Descri√ß√£o curta do produto‚Ä¶</p>

          <div class="options" id="pmOptions"></div>
          <ul class="specs" id="pmSpecs"></ul>

          <div class="modal-actions">
            <button class="btn btn-outline" id="pmDownload">
              Baixar ficha (PDF)
            </button>
            <a
              class="btn btn-wa"
              id="pmOrcamento"
              target="_blank"
              rel="noopener"
              >Or√ßar no WhatsApp</a
            >
          </div>
        </div>
      </div>
    </div>

    <footer>
      ¬© 2025 Grupo MK ‚Äî Todos os direitos reservados. <br />
      Desenvolvido por
      <a
        href="https://nextechsolutions25.github.io/Nex-Tech-Solutions/index.html?fbclid=PAQ0xDSwMQp-tleHRuA2FlbQIxMQABp-_uiBDISjxPII2ZKghP1ETPt3tL7ewtCJoYUZsGiOrbGk2UENZ7obFLYyzn_aem_WxgrIflOK0SRC9kUWQtncg"
        >NexTech Solutions</a
      >
    </footer>

    <script>
      /* ----------------------------------------
         Lan√ßadores no HERO (Instagram + WA)
      ---------------------------------------- */
      (function () {
        const holder = document.querySelector(".social-launchers");
        if (!holder) return;
        holder.innerHTML = `
          <div class="card-glass insta">
            <span>üì∑</span>
            <select id="ig-select" aria-label="Selecione um Instagram">
              <option value="">Instagram da MK</option>
              <option value="https://instagram.com">Loja ‚Äî Perfil</option>
            </select>
            <button id="ig-go">Abrir</button>
          </div>
          <a class="card-glass wa-link" href="https://wa.me/5567992212309?text=Ol%C3%A1!%20Quero%20um%20or%C3%A7amento." target="_blank" rel="noopener">
            <span>üí¨</span><strong>Falar no WhatsApp</strong>
          </a>
        `;
      })();

      (function () {
        const sel = document.getElementById("ig-select");
        const btn = document.getElementById("ig-go");
        if (!sel || !btn) return;
        const openSelected = () => {
          const url = sel.value;
          if (url) window.open(url, "_blank", "noopener");
        };
        btn.addEventListener("click", openSelected);
        if (!matchMedia("(pointer: coarse)").matches)
          sel.addEventListener("change", openSelected);
      })();

      /* ============================================================
         LISTA DE PRODUTOS (fonte √∫nica)
         ------------------------------------------------------------
         ‚úÖ ALTERA√á√ïES PEDIDAS:
         1) Energia/Padr√µes:
            - Remove "Aterramento" e "Acess√≥rios"
            - Cria "Op√ß√µes de Carga (A)" por produto
         2) Fotovoltaico: sem op√ß√µes (semOpcoes: true)
         3) Postes/Pilares (menos Mureta): tamb√©m possuem "Op√ß√µes de Carga (A)"
         4) Churrasqueiras e Dutos: op√ß√£o de "Cor"
      ============================================================ */

      // ‚úÖ Tabelas prontas para reutilizar (evita repetir arrays iguais)
      const CARGAS_MONO = ["50A"];
      const CARGAS_BI = ["50A", "60A", "63A", "80A"];
      const CARGAS_TRI = ["40A", "50A", "70A", "100A", "150A", "200A"];
      const CARGAS_TRI2 = [];

      // ‚úÖ Para postes/pilares (se quiser depois, voc√™ ajusta s√≥ aqui)
      // (Como voc√™ n√£o especificou cargas de poste, deixei um padr√£o com todas)
      const CARGAS_POSTES_PADRAO = [
        "50A",
        "60A",
        "63A",
        "70A",
        "80A",
        "100A",
        "150A",
        "200A",
      ];

      // ‚úÖ Cores para churrasqueiras/dutos (ajuste como quiser)
      const CORES_CHURRAS = [
        "Natural",
        "Grafite",
        "Branco",
        "Preto",
        "Terracota",
      ];

      const PRODUCT_LIST = [
        /* ----------------- ENERGIA (subgrupos em coluna) ----------------- */

        // ‚úÖ Monof√°sico (50A)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo: "Padr√£o de Energia Monof√°sico Subterr√¢nio 127V - Energisa/MS",
          src: "img/Poste.png",
          descricao:
            "Padr√£o de energia residencial monof√°sico a√©reo, amplamente utilizado em resid√™ncias e edifica√ß√µes de pequeno porte. Estrutura em concreto resistente, com caixa de medi√ß√£o adequada, pronto para liga√ß√£o e desenvolvido conforme os padr√µes t√©cnicos exigidos pela Energisa MS.",
          specs: [
            "Aplica√ß√£o: casas residenciais, ed√≠culas, im√≥veis de aluguel e pequenas instala√ß√µes monof√°sicas.",
          ],
          cargas: CARGAS_MONO, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Monof√°sico (50A)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo: "Padr√£o de Energia Monof√°sico A√©reo 127V - Energisa/MS",
          src: "imgnovo/monof√°sico-a√©reo-caixa-pequena.png",
          descricao:
            "Padr√£o de energia residencial monof√°sico a√©reo, amplamente utilizado em resid√™ncias e edifica√ß√µes de pequeno porte. Estrutura em concreto resistente, com caixa de medi√ß√£o adequada, pronto para liga√ß√£o e desenvolvido conforme os padr√µes t√©cnicos exigidos pela Energisa MS.",
          specs: [
            "Aplica√ß√£o: casas residenciais, ed√≠culas, im√≥veis de aluguel e pequenas instala√ß√µes monof√°sicas.",
          ],
          cargas: CARGAS_MONO, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Bifasico (50A)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo:
            "Padr√£o de Energia Bif√°sico Subterr√¢nio 127/220V - Energisa/MS",
          src: "img/Poste.png",
          descricao:
            "Padr√£o de energia bif√°sico, indicado para resid√™ncias, com√©rcios e edifica√ß√µes que demandam maior carga el√©trica e melhor organiza√ß√£o da entrada de energia. Fornecido completo, pronto para solicita√ß√£o de liga√ß√£o junto √† concession√°ria, fabricado em concreto estrutural, com poste de concreto Duplo T, conforme as normas t√©cnicas da Energisa MS.",
          specs: [
            "Aplica√ß√£o: resid√™ncias de m√©dio porte, com√©rcios, im√≥veis com ar-condicionado, chuveiros el√©tricos, sistemas de energia solar e demais instala√ß√µes com maior demanda el√©trica.",
          ],
          cargas: CARGAS_BI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Bifasico (50A)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo: "Padr√£o de Energia Bif√°sico A√©reo 127/220V - Energisa/MS",
          src: "imgnovo/monof√°sico-a√©reo-caixa-pequena.png",
          descricao:
            "Padr√£o de energia bif√°sico, indicado para resid√™ncias, com√©rcios e edifica√ß√µes que demandam maior carga el√©trica e melhor organiza√ß√£o da entrada de energia. Fornecido completo, pronto para solicita√ß√£o de liga√ß√£o junto √† concession√°ria, fabricado em concreto estrutural, com poste de concreto Duplo T, conforme as normas t√©cnicas da Energisa MS.",
          specs: [
            "Aplica√ß√£o: resid√™ncias de m√©dio porte, com√©rcios, im√≥veis com ar-condicionado, chuveiros el√©tricos, sistemas de energia solar e demais instala√ß√µes com maior demanda el√©trica.",
          ],
          cargas: CARGAS_BI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Trif√°sico (50 / 70 / 100 / 150 / 200)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo:
            "Padr√£o de Energia Trif√°sico Subterr√¢nio 127/220/380V - Energisa/MS",
          src: "img/Poste.png",
          descricao:
            "Padrao Trif√°sico indicado para resid√™ncias, com√©rcios, ind√∫strias e edifica√ß√µes que exigem maior cargas de energia, melhor organiza√ß√£o visual e maior prote√ß√£o dos componentes el√©tricos. Fornecido completo, em concreto estrutural, pronto para solicita√ß√£o de liga√ß√£o, conforme as normas da Energisa ‚Äì MS.",
          specs: [
            "Aplica√ß√£o: Resid√™ncias de m√©dio e alto padr√£o, com√©rcios, condom√≠nios, pr√©dios, edifica√ß√µes com exig√™ncia est√©tica, sistemas de energia solar e instala√ß√µes que demandam entrada de energia subterr√¢nea, em conformidade com as exig√™ncias da concession√°ria.",
          ],
          cargas: CARGAS_TRI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Trif√°sico (50 / 70 / 100 / 150 / 200)
        {
          categoria: "energia",
          sub: "Residencial",
          titulo:
            "Padr√£o de Energia Trif√°sico A√©reo 127/220/380V - Energisa/MS",
          src: "imgnovo/monof√°sico-a√©reo-caixa-pequena.png",
          descricao:
            "Padrao Trif√°sico indicado para resid√™ncias, com√©rcios, ind√∫strias e edifica√ß√µes que exigem maior cargas de energia, melhor organiza√ß√£o visual e maior prote√ß√£o dos componentes el√©tricos. Fornecido completo, em concreto estrutural, pronto para solicita√ß√£o de liga√ß√£o, conforme as normas da Energisa ‚Äì MS.",
          specs: [
            "Aplica√ß√£o: Resid√™ncias de m√©dio e alto padr√£o, com√©rcios, condom√≠nios, pr√©dios, edifica√ß√µes com exig√™ncia est√©tica, sistemas de energia solar e instala√ß√µes que demandam entrada de energia subterr√¢nea, em conformidade com as exig√™ncias da concession√°ria.",
          ],
          cargas: CARGAS_TRI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Conjunto TRIF√ÅSICO ‚Äî 02 Medidores (2 combos: medidores + carga)
        {
          categoria: "energia",
          sub: "Comercial",
          titulo: "Padr√£o de Energia 02 Medidores",
          src: "imgnovo/trif√°sico-A√©reo.png",
          descricao:
            "Padr√£o de Energia para Conjunto de 2 Medidores, em um √∫nico poste Duplo T, indicado para resid√™ncias e com√©rcios em geral que necessitam de medi√ß√£o dupla em uma √∫nica entrada de energia. Fornecido completo, com estrutura em concreto, organiza√ß√£o adequada dos medidores e pronto para solicita√ß√£o de liga√ß√£o junto √† concession√°ria, conforme as normas t√©cnicas da Energisa ‚Äì Mato Grosso do Sul.",
          specs: ["3 fases", "A√©reo", "Conforme norma"],

          // ‚úÖ Op√ß√µes EXCLUSIVAS desse produto (n√£o afeta os outros)
          opcoes: [
            {
              grupo: "Quantidade de Medidores",
              tipo: "select",
              name: "medidores",
              itens: ["02 Medidores"],
            },
            {
              grupo: "Op√ß√µes de Carga (A)",
              tipo: "select",
              name: "carga",
              itens: CARGAS_TRI, // ["50A","70A","100A","150A","200A"]
            },
          ],
        },

        // ‚úÖ Conjunto TRIF√ÅSICO ‚Äî 03 Medidores (2 combos: medidores + carga)
        {
          categoria: "energia",
          sub: "Comercial",
          titulo: "Padr√£o de Energia 03 Medidores",
          src: "imgnovo/trif√°sico-SUBTERR√ÇNEO.png",
          descricao: "Padr√£o comercial trif√°sico para entrada subterr√¢nea.",
          specs: ["Entrada subterr√¢nea", "Conforme norma"],

          // ‚úÖ Op√ß√µes EXCLUSIVAS desse produto (n√£o afeta os outros)
          opcoes: [
            {
              grupo: "Quantidade de Medidores",
              tipo: "select",
              name: "medidores",
              itens: ["03 Medidores"],
            },
            {
              grupo: "Op√ß√µes de Carga (A)",
              tipo: "select",
              name: "carga",
              itens: CARGAS_TRI, // ["50A","70A","100A","150A","200A"]
            },
          ],
        },

        // ‚úÖ Industrial (como n√£o foi especificado: deixei como TRIF√ÅSICO)
        {
          categoria: "energia",
          sub: "Industrial",
          titulo: "Agrupamento 2 medidores",
          src: "imgnovo/conjunto-agrupado-2-medidor.png",
          descricao:
            "Estrutura para 2 unidades consumidoras (uso comercial/industrial).",
          specs: [
            "2 caixas homologadas",
            "Barramento adequado",
            "Poste dimensionado",
          ],
          cargas: CARGAS_TRI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Industrial (TRIF√ÅSICO)
        {
          categoria: "energia",
          sub: "Industrial",
          titulo: "Agrupamento 3 medidores",
          src: "imgnovo/conjunto-agrupado-3-medidor.png",
          descricao: "Estrutura para 3 medidores (uso industrial).",
          specs: [
            "3 caixas homologadas",
            "Identifica√ß√£o individual",
            "Estrutura dimensionada",
          ],
          cargas: CARGAS_TRI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Industrial (TRIF√ÅSICO)
        {
          categoria: "energia",
          sub: "Industrial",
          titulo: "Agrupamento 6 medidores",
          src: "img/Agrupamento24.png",
          descricao: "Estrutura maior (ilustrativo) ‚Äì conforme projeto.",
          specs: [
            "Conforme projeto",
            "Organiza√ß√£o por unidade",
            "Chumbadores refor√ßados",
          ],
          cargas: CARGAS_TRI, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚úÖ Fotovoltaico: SEM OP√á√ïES (como voc√™ pediu)
        {
          categoria: "energia",
          sub: "Fotovoltaico",
          titulo: "Sistema Fotovoltaico (estrutura)",
          src: "img/PlacaSolar.png",
          descricao:
            "Estrutura e solu√ß√£o para m√≥dulos fotovoltaicos (sob medida).",
          specs: [
            "Projeto sob medida",
            "Fixa√ß√£o segura",
            "Estrutura refor√ßada",
          ],
          semOpcoes: true, // ‚úÖ n√£o mostra nenhum bot√£o/sele√ß√£o
        },

        /* ----------------- PR√â-MOLDADOS DE CONCRETO ----------------- */
        // ‚úÖ Postes/Pilares: ter√£o "Op√ß√µes de Carga (A)" (menos a Mureta)
        {
          categoria: "concreto",
          sub: "Geral",
          titulo: "Poste 7 m",
          src: "img/Poste.png",
          descricao: "Postes de concreto 7 m para redes e ilumina√ß√£o.",
          specs: ["Concreto vibrado", "Armadura dimensionada", "Sob consulta"],
          cargas: CARGAS_POSTES_PADRAO, // ‚úÖ Op√ß√µes de Carga (A)
        },
        {
          categoria: "concreto",
          sub: "Geral",
          titulo: "Poste 9 m",
          src: "img/Poste.png",
          descricao: "Postes de concreto 9 m.",
          specs: ["Concreto vibrado", "Armadura dimensionada", "Sob consulta"],
          cargas: CARGAS_POSTES_PADRAO, // ‚úÖ Op√ß√µes de Carga (A)
        },
        {
          categoria: "concreto",
          sub: "Estruturas",
          titulo: "Pilar para Barrac√£o",
          src: "imgnovo/PILAR-BARRAC√ÉO.png",
          descricao: "Pilares pr√©-moldados para galp√µes/barrac√µes.",
          specs: [
            "Projeto estrutural",
            "Fura√ß√µes sob medida",
            "Transporte pr√≥prio",
          ],
          cargas: CARGAS_POSTES_PADRAO, // ‚úÖ Op√ß√µes de Carga (A)
        },
        {
          categoria: "concreto",
          sub: "Estruturas",
          titulo: "Pilar para caixa d‚Äô√°gua",
          src: "imgnovo/pilar-caixa-d_agua.png",
          descricao: "Pilar/torre para reservat√≥rios.",
          specs: [
            "Dimensionamento t√©cnico",
            "Concreto com fck adequado",
            "Seguran√ßa",
          ],
          cargas: CARGAS_POSTES_PADRAO, // ‚úÖ Op√ß√µes de Carga (A)
        },

        // ‚ùå Mureta SEM op√ß√µes (como voc√™ pediu)
        {
          categoria: "concreto",
          sub: "Padr√µes",
          titulo: "Mureta de hidr√¥metro",
          src: "imgnovo/mureta-de-hidrometro.png",
          descricao: "Muretas padr√£o para hidr√¥metros residenciais/comerciais.",
          specs: [
            "Acabamento liso",
            "Tampa/porta",
            "Padroniza√ß√£o concession√°ria",
          ],
          // sem "cargas" aqui -> n√£o aparece op√ß√£o
        },

        /* ----------------- PISOS E PAVERS DE CONCRETO ----------------- */
        {
          categoria: "pisos",
          sub: "Pavers",
          titulo: "Piso paver 16 faces",
          src: "img/PisoPaver16Faces.png",
          descricao:
            "Paver 16 faces, alta resist√™ncia para tr√°fego leve a m√©dio.",
          specs: [
            "Diversas cores",
            "Assentamento intertravado",
            "Manuten√ß√£o f√°cil",
          ],
        },
        {
          categoria: "pisos",
          sub: "Acessibilidade",
          titulo: "Piso t√°til alerta",
          src: "img/PisoTaticoAlerta.png",
          descricao: "Placas de alerta t√°til (bolhas).",
          specs: ["NBR 9050", "Resistente", "Instala√ß√£o r√°pida"],
        },

        /* ----------------- CHURRASQUEIRAS PR√â FABRICADAS (com subgrupo Dutos) ----------------- */
        // ‚úÖ Churrasqueiras: op√ß√£o de cor (select)
        {
          categoria: "churrasqueiras",
          sub: "Churrasqueiras",
          titulo: "Churrasqueira Tijolinho (Laranja)",
          src: "img/ChurrasqueiraTijoloLaranja.png",
          descricao:
            "Churrasqueira em tijolinho refrat√°rio, pronta para instalar.",
          specs: ["Refrat√°rio", "Duto √ò200", "Sa√≠da para coifa"],
          cores: CORES_CHURRAS, // ‚úÖ Op√ß√£o de Cor
        },
        {
          categoria: "churrasqueiras",
          sub: "Churrasqueiras",
          titulo: "Churrasqueira Trio Caipira",
          src: "img/ChurrasqueiraTrioCaipira.png",
          descricao: "Conjunto com churrasqueira, forno e fog√£o a lenha.",
          specs: ["M√∫ltiplas fun√ß√µes", "Refrat√°rio", "Acabamento r√∫stico"],
          cores: CORES_CHURRAS, // ‚úÖ Op√ß√£o de Cor
        },

        // ‚úÖ Dutos: op√ß√£o de cor (select)
        {
          categoria: "churrasqueiras",
          sub: "Dutos",
          titulo: "Duto liso",
          src: "img/DutoLiso.png",
          descricao: "Duto/anel liso para exaust√£o, chamin√©s e passagens.",
          specs: [
            "Se√ß√µes variadas",
            "Acabamento uniforme",
            "Instala√ß√£o t√©cnica",
          ],
          cores: CORES_CHURRAS, // ‚úÖ Op√ß√£o de Cor
        },
      ];

      /* ============================================================
         AVALIA√á√ïES ‚Äî localStorage simples
      ============================================================ */
      const LS_KEY = "mk_reviews_v1";
      const reviewList = document.getElementById("reviewList");
      const revName = document.getElementById("revName");
      const revText = document.getElementById("revText");
      const revSend = document.getElementById("revSend");
      const revClear = document.getElementById("revClear");
      const revMsg = document.getElementById("revMsg");

      function loadReviews() {
        try {
          const raw = localStorage.getItem(LS_KEY);
          return raw ? JSON.parse(raw) : [];
        } catch {
          return [];
        }
      }
      function saveReviews(arr) {
        localStorage.setItem(LS_KEY, JSON.stringify(arr));
      }
      function starsHtml(n) {
        return "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ".slice(0, n).padEnd(5, "‚òÜ");
      }
      function escapeHtml(s) {
        return String(s).replace(
          /[&<>\"']/g,
          (m) =>
            ({
              "&": "&amp;",
              "<": "&lt;",
              ">": "&gt;",
              '"': "&quot;",
              "'": "&#39;",
            }[m])
        );
      }

      function renderReviews() {
        const data = loadReviews().slice().reverse().slice(0, 9);
        reviewList.innerHTML = "";
        if (!data.length) {
          const box = document.createElement("div");
          box.className = "review-box";
          box.innerHTML = `<div class="review">Seja o primeiro a avaliar!</div>`;
          reviewList.appendChild(box);
          return;
        }
        data.forEach((r) => {
          const box = document.createElement("div");
          box.className = "review-box";
          const card = document.createElement("div");
          card.className = "review";
          card.innerHTML = `<div class="stars">${starsHtml(
            r.rating
          )}</div>${escapeHtml(r.text)}<br><strong>‚Äî ${escapeHtml(
            r.name
          )}</strong>`;
          box.appendChild(card);
          reviewList.appendChild(box);
        });
      }

      function getRating() {
        const sel = document.querySelector('input[name="rating"]:checked');
        return sel ? parseInt(sel.value, 10) : 0;
      }
      revSend.addEventListener("click", () => {
        const rating = getRating(),
          name = revName.value.trim(),
          text = revText.value.trim();
        if (!rating) return showMsg("Escolha uma nota de 1 a 5 ‚≠ê", true);
        if (name.length < 2)
          return showMsg("Digite seu nome (m√≠n. 2 caracteres)", true);
        if (text.length < 8)
          return showMsg("Escreva um depoimento um pouquinho maior üòä", true);
        const list = loadReviews();
        list.push({ rating, name, text, ts: Date.now() });
        saveReviews(list);
        renderReviews();
        clearForm();
        showMsg("Avalia√ß√£o enviada! Obrigado(a) ü•≥", false);
      });
      revClear.addEventListener("click", clearForm);
      function clearForm() {
        document
          .querySelectorAll('input[name="rating"]')
          .forEach((i) => (i.checked = false));
        revName.value = "";
        revText.value = "";
        showMsg("", false);
      }
      function showMsg(msg, isErr) {
        revMsg.textContent = msg;
        revMsg.className = "rate-msg " + (isErr ? "err" : "ok");
      }
      renderReviews();

      /* ============================================================
         CAT√ÅLOGO + MODAL
      ============================================================ */
      function labelCategoria(id) {
        return (
          {
            energia: "Energia",
            concreto: "Pr√©-Moldados de Concreto",
            pisos: "Pisos e Pavers de Concreto",
            churrasqueiras: "Churrasqueiras Pr√© Fabricadas",
          }[id] || id
        );
      }

      const modal = document.getElementById("productModal");
      const pmImg = document.getElementById("pmImg");
      const pmTitulo = document.getElementById("pmTitulo");
      const pmCategoria = document.getElementById("pmCategoria");
      const pmDesc = document.getElementById("pmDesc");
      const pmOptions = document.getElementById("pmOptions");
      const pmSpecs = document.getElementById("pmSpecs");
      const pmOrcamento = document.getElementById("pmOrcamento");
      const pmDownload = document.getElementById("pmDownload");
      const pmClose = document.getElementById("pmClose");

      /* ============================================================
         ‚úÖ NOVO: sugerirOpcoes(p)
         ------------------------------------------------------------
         - Energia: "Op√ß√µes de Carga (A)" conforme p.cargas
         - Fotovoltaico: semOpcoes=true -> sem op√ß√µes
         - Concreto: se tiver p.cargas (postes/pilares), mostra "Op√ß√µes de Carga (A)"
         - Churrasqueiras/Dutos: se tiver p.cores, mostra "Cor"
         - Pisos: mant√©m como estava
      ============================================================ */
      function sugerirOpcoes(p) {
        // 1) Se o produto tiver semOpcoes, n√£o mostra nada no modal
        if (p.semOpcoes) return [];

        // 2) ‚úÖ PRIORIDADE: se o produto tiver "opcoes" pr√≥prias, usa elas (n√£o afeta os outros)
        // Ex.: 02 Medidores / 03 Medidores com 2 combobox, etc.
        if (Array.isArray(p.opcoes) && p.opcoes.length) return p.opcoes;

        // 3) Energia (padr√µes): por padr√£o usa cargas (1 grupo) se existir
        if (p.categoria === "energia") {
          if (Array.isArray(p.cargas) && p.cargas.length) {
            return [
              {
                grupo: "Op√ß√µes de Carga (A)",
                tipo: "radio", // se quiser combobox, troque p/ "select"
                name: "carga",
                itens: p.cargas,
              },
            ];
          }
          return [];
        }

        // 4) Concreto: postes/pilares com cargas (mureta sem cargas n√£o mostra)
        if (p.categoria === "concreto") {
          if (Array.isArray(p.cargas) && p.cargas.length) {
            return [
              {
                grupo: "Op√ß√µes de Carga (A)",
                tipo: "radio",
                name: "carga",
                itens: p.cargas,
              },
            ];
          }
          return [];
        }

        // 5) Pisos: mant√©m op√ß√µes antigas (cor + espessura)
        if (p.categoria === "pisos") {
          return [
            {
              grupo: "Cor",
              tipo: "select",
              name: "cor",
              itens: ["Natural", "Grafite", "Vermelho", "Amarelo"],
            },
            {
              grupo: "Espessura",
              tipo: "radio",
              name: "esp",
              itens: ["6 cm", "8 cm"],
            },
          ];
        }

        // 6) Churrasqueiras e Dutos: op√ß√£o de cor (por produto via p.cores)
        if (p.categoria === "churrasqueiras") {
          if (Array.isArray(p.cores) && p.cores.length) {
            return [
              {
                grupo: "Cor",
                tipo: "select",
                name: "cor",
                itens: p.cores,
              },
            ];
          }
          return [];
        }

        return [];
      }

      // ‚úÖ Monta o objeto de detalhes SEM depender do t√≠tulo apenas,
      //    usando as op√ß√µes calculadas por produto.
      const DETALHES = {};
      PRODUCT_LIST.forEach((p) => {
        DETALHES[p.titulo] = {
          categoria: labelCategoria(p.categoria),
          imagem: p.src,
          descricao: p.descricao || "",
          specs: p.specs || [],
          opcoes: sugerirOpcoes(p),
          pdf: "",
          whatsapp: "5567992212309",
        };
      });

      function coletarSelecoes() {
        const data = {};
        pmOptions.querySelectorAll("fieldset").forEach((fs) => {
          const legend =
            fs.querySelector("legend")?.textContent?.trim() || "Op√ß√µes";
          const inputs = fs.querySelectorAll("input,select");
          const vals = [];
          inputs.forEach((el) => {
            if (el.tagName === "SELECT") vals.push(el.value);
            else if (
              (el.type === "checkbox" || el.type === "radio") &&
              el.checked
            )
              vals.push(el.value);
          });
          if (vals.length) data[legend] = vals;
        });
        return data;
      }

      function montarMensagemWhats(produto, categoria, selecoes) {
        const linhas = [
          "Ol√°! Quero um or√ßamento.",
          `*Produto:* ${produto}`,
          categoria ? `*Categoria:* ${categoria}` : "",
          ...Object.entries(selecoes).map(
            ([k, vs]) => `*${k}:* ${vs.join(", ")}`
          ),
          "",
          "Pode me retornar por aqui? Obrigado(a)!",
        ].filter(Boolean);
        return linhas.join("\n");
      }

      function openProduct(key) {
        const data = DETALHES[key];
        if (!data) return;

        pmImg.src = data.imagem || "";
        pmImg.alt = key;
        pmTitulo.textContent = key;
        pmCategoria.textContent = data.categoria || "";
        pmDesc.textContent = data.descricao || "";

        pmSpecs.innerHTML = "";
        (data.specs || []).forEach((s) => {
          const li = document.createElement("li");
          li.textContent = s;
          pmSpecs.appendChild(li);
        });

        // ‚úÖ Renderiza op√ß√µes (se houver)
        pmOptions.innerHTML = "";
        (data.opcoes || []).forEach((group) => {
          const wrap = document.createElement("fieldset");
          wrap.className = "opt-group";
          const lg = document.createElement("legend");
          lg.textContent = group.grupo;
          wrap.appendChild(lg);

          const row = document.createElement("div");
          row.className = "opt-row";

          if (group.tipo === "select") {
            const sel = document.createElement("select");
            sel.name = group.name;
            group.itens.forEach((v) => {
              const o = document.createElement("option");
              o.value = o.textContent = v;
              sel.appendChild(o);
            });
            row.appendChild(sel);
          } else {
            group.itens.forEach((v, i) => {
              const id = `${group.name}-${i}`;
              const label = document.createElement("label");
              label.htmlFor = id;

              const input = document.createElement("input");
              input.type = group.tipo;
              input.name = group.name;
              input.value = v;
              input.id = id;

              label.appendChild(input);
              label.appendChild(document.createTextNode(v));
              row.appendChild(label);
            });
          }

          wrap.appendChild(row);
          pmOptions.appendChild(wrap);
        });

        pmDownload.style.display = data.pdf ? "" : "none";
        pmDownload.onclick = data.pdf
          ? () => window.open(data.pdf, "_blank", "noopener")
          : null;

        pmOrcamento.onclick = (e) => {
          e.preventDefault();
          const selecoes = coletarSelecoes();
          const msg = montarMensagemWhats(key, data.categoria, selecoes);
          const url = `https://wa.me/${data.whatsapp}?text=${encodeURIComponent(
            msg
          )}`;
          window.open(url, "_blank", "noopener");
        };

        modal.classList.add("open");
        modal.setAttribute("aria-hidden", "false");
      }

      pmClose.onclick = () => {
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
      };
      modal.addEventListener("click", (e) => {
        if (e.target === modal) pmClose.click();
      });

      /* ============================================================
         CAT√ÅLOGO (chips + grids)
      ============================================================ */
      const CATALOGO = {};
      PRODUCT_LIST.forEach((p) => {
        if (!CATALOGO[p.categoria]) {
          CATALOGO[p.categoria] = {
            titulo: labelCategoria(p.categoria),
            imagens: [],
          };
        }
        CATALOGO[p.categoria].imagens.push({
          src: p.src,
          titulo: p.titulo,
          sub: (p.sub || "").trim(),
        });
      });

      const CATEGORY_ORDER = ["energia", "concreto", "pisos", "churrasqueiras"];
      const chipsEl = document.getElementById("chips");
      const subchipsEl = document.getElementById("subchips");
      const energyGroupsEl = document.getElementById("energyGroups");
      const gridEl = document.getElementById("productGrid");

      let categoriaAtual = "energia";
      let subgrupoAtual = "Todos";

      // chips principais (ordem fixa)
      chipsEl.innerHTML = "";
      CATEGORY_ORDER.forEach((id, idx) => {
        if (!CATALOGO[id]) return;
        const chip = document.createElement("button");
        chip.className = "chip" + (idx === 0 ? " active" : "");
        chip.textContent = CATALOGO[id].titulo;

        chip.addEventListener("click", () => {
          chipsEl
            .querySelectorAll(".chip")
            .forEach((c) => c.classList.remove("active"));
          chip.classList.add("active");

          categoriaAtual = id;
          subgrupoAtual = "Todos";

          renderSubchips();
          renderCategoria();
        });

        chipsEl.appendChild(chip);
      });

      function renderSubchips() {
        subchipsEl.style.display = "none";
        subchipsEl.innerHTML = "";

        // Subgrupo apenas para "churrasqueiras"
        if (categoriaAtual !== "churrasqueiras") return;

        const subs = [
          ...new Set(
            (CATALOGO[categoriaAtual]?.imagens || [])
              .map((i) => i.sub)
              .filter(Boolean)
          ),
        ];
        const lista = ["Todos", ...subs];

        lista.forEach((nome, i) => {
          const b = document.createElement("button");
          b.className = "chip" + (i === 0 ? " active" : "");
          b.textContent = nome;

          b.addEventListener("click", () => {
            subgrupoAtual = nome;
            subchipsEl
              .querySelectorAll(".chip")
              .forEach((c) => c.classList.remove("active"));
            b.classList.add("active");
            renderCategoria();
          });

          subchipsEl.appendChild(b);
        });

        subchipsEl.style.display = "flex";
      }

      function renderEnergyGroups() {
        energyGroupsEl.style.display = "grid";
        gridEl.style.display = "none";

        energyGroupsEl.innerHTML = "";

        const grupos = [
          {
            id: "Residencial",
            label: "Padr√µes de Energia Residenciais/Comerciais/Industriais",
          },
          {
            id: "Comercial",
            label: "Padr√µes de Energia para Conjuntos de at√© 3 Medidores",
          },
          {
            id: "Industrial",
            label:
              "Padr√µes de Energia para Conjuntos de M√∫ltiplos Medidores (4 ou mais)",
          },
          { id: "Fotovoltaico", label: "Sistema Fotovoltaico" },
        ];

        grupos.forEach((g) => {
          const itens = PRODUCT_LIST.filter(
            (p) => p.categoria === "energia" && p.sub === g.id
          );
          if (!itens.length) return;

          const bloco = document.createElement("div");
          bloco.className = "energy-group";

          const titulo = document.createElement("h3");
          titulo.textContent = g.label;

          const grid = document.createElement("div");
          grid.className = "energy-grid";

          itens.forEach((p) => {
            const card = document.createElement("div");
            card.className = "energy-card";
            card.innerHTML = `
              <img src="${p.src}" alt="${p.titulo}">
              <div class="legend">${p.titulo}</div>
            `;
            card.onclick = () => openProduct(p.titulo);
            grid.appendChild(card);
          });

          bloco.appendChild(titulo);
          bloco.appendChild(grid);
          energyGroupsEl.appendChild(bloco);
        });
      }

      function renderGridCategoria() {
        energyGroupsEl.style.display = "none";
        gridEl.style.display = "grid";
        gridEl.innerHTML = "";

        const itensAll = (CATALOGO[categoriaAtual]?.imagens || []).slice();

        const itens =
          categoriaAtual === "churrasqueiras" && subgrupoAtual !== "Todos"
            ? itensAll.filter((i) => i.sub === subgrupoAtual)
            : itensAll;

        itens.forEach((item) => {
          const card = document.createElement("div");
          card.className = "product-card";
          card.innerHTML = `
            <img src="${item.src}" alt="${item.titulo}">
            <div class="legend">${item.titulo}</div>
          `;
          card.onclick = () => openProduct(item.titulo);
          gridEl.appendChild(card);
        });
      }

      function renderCategoria() {
        if (categoriaAtual === "energia") renderEnergyGroups();
        else renderGridCategoria();
      }

      /* ============================================================
         FORM CONTATO ‚Äî status + bot√£o WhatsApp com mensagem
      ============================================================ */
      const form = document.getElementById("mkForm");
      const formStatus = document.getElementById("formStatus");
      const btnWaDirect = document.getElementById("btnWaDirect");
      const fNome = document.getElementById("fNome");
      const fTel = document.getElementById("fTel");
      const fMsg = document.getElementById("fMsg");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (form.website && form.website.value) return;
        if (!fNome.value.trim() || !fTel.value.trim() || !fMsg.value.trim()) {
          formStatus.textContent = "Preencha todos os campos obrigat√≥rios.";
          formStatus.className = "status err";
          return;
        }
        formStatus.textContent =
          "Mensagem enviada! (demonstra√ß√£o) Voc√™ tamb√©m pode falar no WhatsApp üòâ";
        formStatus.className = "status ok";
      });

      function montarMsgWAContato() {
        return [
          "Ol√°, MK! Vim pelo site e preciso de ajuda.",
          `*Nome:* ${fNome.value.trim() || "-"}`,
          `*Telefone:* ${fTel.value.trim() || "-"}`,
          `*Mensagem:* ${fMsg.value.trim() || "-"}`,
        ].join("\n");
      }
      btnWaDirect.addEventListener("click", (e) => {
        e.preventDefault();
        const msg = montarMsgWAContato();
        const url = `https://wa.me/5567992212309?text=${encodeURIComponent(
          msg
        )}`;
        window.open(url, "_blank", "noopener");
      });

      /* start */
      renderSubchips();
      renderCategoria();
    </script>
  </body>
</html>
